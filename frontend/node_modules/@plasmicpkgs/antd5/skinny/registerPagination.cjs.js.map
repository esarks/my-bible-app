{"version":3,"file":"registerPagination.cjs.js","sources":["../src/registerPagination.tsx"],"sourcesContent":["import { Pagination } from \"antd\";\nimport React, { useEffect } from \"react\";\nimport { Registerable, registerComponentHelper } from \"./utils\";\n\ntype AntdPaginationProps = Omit<\n  React.ComponentProps<typeof Pagination>,\n  \"pageSizeOptions\"\n> & {\n  pageSizeOptions?: { pageSize: number }[];\n  paginatedUrl?: (pageNo: number, pageSize: number) => string;\n};\n\nexport function AntdPagination(props: AntdPaginationProps) {\n  const { paginatedUrl, pageSizeOptions, ...rest } = props;\n\n  //   to populate startIndex and endIndex states which are set via onChange prop.\n  useEffect(() => {\n    if (props.current && props.pageSize && props.onChange) {\n      props.onChange(props.current, props.pageSize);\n    }\n  }, []);\n\n  return (\n    <Pagination\n      pageSizeOptions={pageSizeOptions\n        ?.filter((i) => i?.pageSize)\n        .map((i) => i.pageSize)}\n      itemRender={\n        paginatedUrl\n          ? (pageNo, _, originalElement) => {\n              if (!React.isValidElement(originalElement) || !props.pageSize) {\n                return originalElement;\n              }\n              let rel = undefined;\n              if (props.current) {\n                rel =\n                  pageNo === props.current\n                    ? \"self\"\n                    : pageNo === props.current - 1\n                    ? \"prev\"\n                    : pageNo === props.current + 1\n                    ? \"next\"\n                    : undefined;\n              }\n\n              const href = paginatedUrl(pageNo, props.pageSize);\n              return React.cloneElement(originalElement, {\n                ...originalElement.props,\n                rel,\n                href,\n                style: {\n                  ...(originalElement.props?.style ?? {}),\n                  pointerEvents: \"none\",\n                },\n              });\n            }\n          : undefined\n      }\n      {...rest}\n    />\n  );\n}\n\nexport const paginationComponentName = \"plasmic-antd5-pagination\";\n\nexport const paginationHelpers = {\n  states: {\n    pageSize: {\n      onChangeArgsToValue: (_: number, pageSize: number) => pageSize,\n    },\n    startIndex: {\n      onChangeArgsToValue: (currentPage: number, pageSize: number) =>\n        (currentPage - 1) * pageSize,\n    },\n    endIndex: {\n      onChangeArgsToValue: (currentPage: number, pageSize: number) =>\n        pageSize * currentPage - 1,\n    },\n  },\n};\n\nexport function registerPagination(loader?: Registerable) {\n  registerComponentHelper(loader, AntdPagination, {\n    name: paginationComponentName,\n    displayName: \"Pagination\",\n    props: {\n      current: {\n        editOnly: true,\n        uncontrolledProp: \"defaultCurrent\",\n        type: \"number\",\n        displayName: \"Current Page\",\n        description: `Default current page`,\n        defaultValue: 1,\n      },\n      total: {\n        type: \"number\",\n        defaultValueHint: 0,\n        description: `Total number of data items`,\n      },\n      pageSize: {\n        editOnly: true,\n        uncontrolledProp: \"defaultPageSize\",\n        type: \"number\",\n        displayName: \"Page size\",\n        description: `Default number of items per page`,\n        defaultValue: 10,\n      },\n      disabled: {\n        type: \"boolean\",\n        defaultValueHint: false,\n        description: `Disable pagination controls`,\n      },\n      hideOnSinglePage: {\n        type: \"boolean\",\n        defaultValueHint: false,\n        advanced: true,\n        description: `Hide pager on single page`,\n      },\n      showLessItems: {\n        type: \"boolean\",\n        defaultValueHint: false,\n        advanced: true,\n        description: `Show less page items`,\n        hidden: (ps) => !!ps.simple,\n      },\n      showQuickJumper: {\n        type: \"boolean\",\n        defaultValueHint: false,\n        advanced: true,\n        description: `Show \"Go to page\" control to enable jumping to pages directly`,\n        hidden: (ps) => !!ps.simple,\n      },\n      showSizeChanger: {\n        type: \"boolean\",\n        defaultValueHint: (ps) => (ps.total ? ps.total > 50 : false),\n        advanced: true,\n        description: `Show page size selector`,\n        hidden: (ps) => !!ps.simple,\n      },\n      //   showTitle prop seems to be doing nothing, so this is skipped\n      //   showTitle: {\n      //     type: \"boolean\",\n      //     defaultValueHint: true,\n      //     description: `Show page item's title`,\n      //   },\n      showTotal: {\n        type: \"function\" as const,\n        displayName: \"Show total\",\n        description: \"Display the total number and range\",\n        advanced: true,\n        argNames: [\"total\", \"range\"],\n        argValues: (_ps: any, ctx: any) => [ctx.data[0], ctx.data[1]],\n      } as any,\n      simple: {\n        type: \"boolean\",\n        defaultValueHint: false,\n        description: `Uuse simple mode (i.e. minimal controls)`,\n      },\n      size: {\n        type: \"choice\",\n        defaultValueHint: \"default\",\n        description: `Size of the pager`,\n        options: [\"default\", \"small\"],\n      },\n      pageSizeOptions: {\n        type: \"array\",\n        defaultValue: [\n          {\n            pageSize: 10,\n          },\n          {\n            pageSize: 20,\n          },\n          {\n            pageSize: 50,\n          },\n          {\n            pageSize: 100,\n          },\n        ],\n        description: \"The list of available page sizes\",\n        advanced: true,\n        itemType: {\n          type: \"object\",\n          nameFunc: (item) => item.pageSize,\n          fields: {\n            pageSize: {\n              type: \"number\",\n              min: 1,\n            },\n          },\n        },\n      },\n      paginatedUrl: {\n        type: \"function\",\n        advanced: true,\n        description:\n          \"Helps generate SEO-friendly pagination links. These links will include appropriate href attributes, ensuring that search engines can effectively crawl and index your paginated content\",\n        control: {\n          type: \"href\",\n        },\n        argNames: [\"pageNo\", \"pageSize\"],\n        argValues: (_props: AntdPaginationProps, ctx: any) => [\n          ctx?.data?.[0],\n          _props.pageSize,\n        ],\n      } as any,\n      onChange: {\n        type: \"eventHandler\",\n        advanced: true,\n        argTypes: [\n          {\n            name: \"page\",\n            type: \"number\",\n          },\n          {\n            name: \"pageSize\",\n            type: \"number\",\n          },\n        ],\n      },\n      onShowSizeChange: {\n        type: \"eventHandler\",\n        advanced: true,\n        argTypes: [\n          {\n            name: \"current\",\n            type: \"number\",\n          },\n          {\n            name: \"size\",\n            type: \"number\",\n          },\n        ],\n      },\n    },\n    states: {\n      currentPage: {\n        type: \"writable\",\n        valueProp: \"current\",\n        onChangeProp: \"onChange\",\n        variableType: \"number\",\n      },\n      pageSize: {\n        type: \"writable\",\n        valueProp: \"pageSize\",\n        onChangeProp: \"onShowSizeChange\",\n        variableType: \"number\",\n        ...paginationHelpers.states.pageSize,\n      },\n      startIndex: {\n        type: \"readonly\",\n        variableType: \"number\",\n        onChangeProp: \"onChange\",\n        ...paginationHelpers.states.startIndex,\n      },\n      endIndex: {\n        type: \"readonly\",\n        variableType: \"number\",\n        onChangeProp: \"onChange\",\n        ...paginationHelpers.states.endIndex,\n      },\n    },\n    componentHelpers: {\n      helpers: paginationHelpers,\n      importName: \"paginationHelpers\",\n      importPath: \"@plasmicpkgs/antd5/skinny/registerPagination\",\n    },\n    importPath: \"@plasmicpkgs/antd5/skinny/registerPagination\",\n    importName: \"AntdPagination\",\n  });\n}\n"],"names":["useEffect","React","Pagination","_a","registerComponentHelper"],"mappings":"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"}