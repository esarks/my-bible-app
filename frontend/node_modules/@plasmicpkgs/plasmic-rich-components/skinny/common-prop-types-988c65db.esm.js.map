{"version":3,"file":"common-prop-types-988c65db.esm.js","sources":["../src/common-prop-types.tsx"],"sourcesContent":["import { PropType } from \"@plasmicapp/host/registerComponent\";\nimport {\n  BaseColumnConfig,\n  FieldfulProps,\n  buildFieldsPropType,\n  getFieldSubprops,\n} from \"./field-mappings\";\nimport { capitalize } from \"./common\";\nimport { maybe } from \"./utils\";\n\nexport function roleProp<P extends FieldfulProps<any>>({\n  role,\n  singular = false,\n  advanced = false,\n  displayName,\n}: {\n  role: string;\n  singular?: boolean;\n  advanced?: boolean;\n  displayName?: string;\n}): PropType<P> {\n  return singular\n    ? {\n        type: \"object\",\n        displayName: displayName || `${capitalize(role)} field`,\n        advanced,\n        hidden: (ps) => !ps.data,\n        nameFunc: (item) =>\n          maybe(item, (i) =>\n            i.isHidden ? \"Hidden\" : i.fieldId || \"Custom value\"\n          ),\n        fields: getFieldSubprops({\n          canChangeField: true,\n          noTitle: true,\n        }),\n        defaultValueHint: (_props, contextData) =>\n          (contextData?.minimalFullLengthFields ?? []).find(\n            (f) => f.role === role\n          ),\n      }\n    : buildFieldsPropType<BaseColumnConfig, P>({\n        displayName: displayName || `${capitalize(role)} fields`,\n        advanced,\n        noTitle: true,\n        canChangeField: true,\n        minimalValue: (_props, contextData) =>\n          (contextData?.minimalFullLengthFields ?? []).filter(\n            (f) => f.role === role\n          ),\n      });\n}\n\nexport function dataProp<T>(): PropType<T> {\n  return {\n    type: \"dataSourceOpData\" as any,\n    description: \"The data to display\",\n  };\n}\n\nexport function commonProps<T>(): Record<string, PropType<T>> {\n  return {\n    pagination: {\n      type: \"boolean\",\n      advanced: true,\n      defaultValueHint: true,\n    },\n\n    pageSize: {\n      type: \"number\",\n      defaultValueHint: 10,\n      advanced: true,\n    },\n\n    hideSearch: {\n      type: \"boolean\",\n      description: \"Hides the search toolbar\",\n      advanced: true,\n    },\n  };\n}\n\nexport function rowActionsProp<T>(): PropType<T> {\n  return {\n    type: \"array\",\n    displayName: \"Row actions\",\n    advanced: true,\n    itemType: {\n      type: \"object\",\n      nameFunc: (item) => item.label,\n      fields: {\n        type: {\n          type: \"choice\",\n          options: [\"item\", \"menu\"],\n          defaultValue: \"item\",\n        },\n        label: {\n          type: \"string\",\n          displayName: \"Action label\",\n        },\n        children: {\n          type: \"array\",\n          displayName: \"Menu items\",\n          itemType: {\n            type: \"object\",\n            fields: {\n              label: {\n                type: \"string\",\n                displayName: \"Action label\",\n              },\n              onClick: {\n                type: \"eventHandler\",\n                argTypes: [\n                  { name: \"rowKey\", type: \"string\" },\n                  { name: \"row\", type: \"object\" },\n                ],\n              },\n            },\n          },\n          hidden: (_ps, _ctx, { item }) => item.type !== \"menu\",\n        },\n        onClick: {\n          type: \"eventHandler\",\n          displayName: \"Action\",\n          argTypes: [\n            { name: \"rowKey\", type: \"string\" },\n            { name: \"row\", type: \"object\" },\n          ],\n          hidden: (_ps, _ctx, { item }) => item.type !== \"item\",\n        },\n      },\n    },\n  };\n}\n\nexport function onRowClickProp<T>(): PropType<T> {\n  return {\n    type: \"eventHandler\",\n    displayName: \"On row clicked\",\n    argTypes: [\n      { name: \"rowKey\", type: \"string\" },\n      { name: \"row\", type: \"object\" },\n      { name: \"event\", type: \"object\" },\n    ],\n  };\n}\n"],"names":[],"mappings":"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"}